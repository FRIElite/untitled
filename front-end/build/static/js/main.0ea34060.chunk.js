(this["webpackJsonpreact-template"]=this["webpackJsonpreact-template"]||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),i=a.n(o),l=a(7),c=a(16),u=a(10),m=a(142),s=a(48),d=a(137),p=Object(s.a)(Object(s.a)({},d.a),{},{colors:Object(s.a)(Object(s.a)({},d.a.colors),{},{light:{},dark:{}})}),h=a(21),v=a(11),f=a(136),b=a(128),E=a(139),g=a(35),x=a(83),w=a(140),j=a(66),O=a(129),y=a(130),S=a(131);function k(){var e=Object(b.a)(),t=e.isOpen,a=e.onOpen,n=e.onClose,o=Object(u.b)(),i=o.colorMode,c=o.toggleColorMode,m=Object(f.a)(["reco"]),s=Object(l.a)(m,3),d=(s[0],s[1],s[2]),p="light"==i,v=p?"sun":"moon",k=p?"yellow":"gray",C=function(){return d("auth"),window.location.reload(!1)},M=function(){return r.a.createElement(E.a,{placement:"right",onClose:n,isOpen:t},r.a.createElement(E.d,null),r.a.createElement(E.c,null,r.a.createElement(E.b,null),r.a.createElement(g.e,{borderBottomWidth:"1px"},r.a.createElement(x.a,{direction:"row",justify:"flex-start",align:"center"},r.a.createElement(w.a,{name:"Dan Abrahmov",src:"https://bit.ly/dan-abramov"}),r.a.createElement(j.a,{variantColor:"red",variant:"outline",size:"sm",ml:"15px",onClick:C},"Logout"))),r.a.createElement(g.b,null,r.a.createElement(O.b,{styleType:"disc"},r.a.createElement(O.a,null,r.a.createElement(h.b,{to:"/",color:"cyan.500"},"Home")),r.a.createElement(O.a,null,r.a.createElement(h.b,{to:"/list",color:"cyan.500"},"List")),r.a.createElement(O.a,null,r.a.createElement(h.b,{to:"/swipe",color:"cyan.500"},"Swipe"))))))};return r.a.createElement(x.a,{width:"100%",direction:"column",justify:"flex-start",align:"center",padding:"15px 15px 30px 15px"},r.a.createElement(x.a,{width:"100%",direction:"row",justify:"space-between",align:"center"},r.a.createElement(y.a,{variant:"ghost",variantColor:k,"aria-label":"Call Sage",icon:v,size:"lg",onClick:function(){return c()}}),r.a.createElement(S.a,Object.assign({as:h.b},{to:"/"},{size:"2xl"}),"Reco"),r.a.createElement(w.a,{name:"Dan Abrahmov",src:"https://bit.ly/dan-abramov",onClick:a})),r.a.createElement(M,null))}var C=a(138);function M(){var e=function(){var e=["red","orange","yellow","green","teal","cyan","purple"];return e[Math.floor(Math.random()*e.length)]};return r.a.createElement(C.a,{columns:2,spacing:10,mr:"30px",ml:"30px",mt:"50px"},r.a.createElement(j.a,Object.assign({as:h.b},{to:"/swipe"},{height:"100px",variant:"outline",variantColor:e(),size:"lg"})," ","Swipe"," "),r.a.createElement(j.a,Object.assign({as:h.b},{to:"/list"},{height:"100px",variant:"outline",variantColor:e(),size:"lg"})," ","List"," "),r.a.createElement(j.a,Object.assign({as:h.b},{to:"/rate"},{height:"100px",variant:"outline",variantColor:e(),size:"lg"})," ","Rate"," "))}var _=a(44),A=a.n(_),z=a(55),L=a(132),R=a(4),F=a(84),D=a(85),T=a(26),W=a(42),P=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function I(e){var t;return null===(t=P.find((function(t){return t.id==e})))||void 0===t?void 0:t.name}function J(e){var t=Object.assign({},e);return r.a.createElement(R.a,Object.assign({},t,{border:"1px solid #9F7AEA",mb:"5px",borderRadius:"4px",padding:"0px 4px 0px 4px",fontWeight:"500",color:"#9F7AEA",fontSize:10,textTransform:"capitalize"}))}function U(){var e,t=Object(f.a)(["reco"]),a=Object(l.a)(t,3),n=a[0],o=(a[1],a[2],Object(W.a)("repoData",Object(z.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://untitled-app-001.herokuapp.com/user/"+(null===n||void 0===n||null===(t=n.auth)||void 0===t?void 0:t.username)).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)}))))),i=o.isLoading,c=(o.error,o.data),u=r.a.useState(5),m=Object(l.a)(u,2),s=m[0],d=m[1];console.log(c);var p=r.a.useMemo((function(){if(i)return r.a.createElement(L.a,{width:"100%",height:"100px"});for(var e=[],t=0;t<(null===c||void 0===c||null===(a=c.ratedMovies)||void 0===a?void 0:a.length);t++){var a;if(t>=s)break;e.push(r.a.createElement(V,{movie_data:null===c||void 0===c?void 0:c.ratedMovies[t],index:t}))}return r.a.createElement(C.a,{columns:1,spacing:1},e)}),[c,s]);return r.a.createElement(R.a,{mr:"15px",ml:"15px"},p,s<(null===c||void 0===c||null===(e=c.ratedMovies)||void 0===e?void 0:e.length)&&r.a.createElement(j.a,{borderRadius:"0px",width:"100%",mt:1,onClick:function(){return d(s+5)}},"Load more"))}function V(e){var t,a=e.movie_data,n=(e.index,r.a.useState(!1)),o=Object(l.a)(n,2),i=o[0],c=o[1],m=Object(u.b)(),s=m.colorMode,d=(m.toggleColorMode,"light"==s),p=r.a.useState(),h=Object(l.a)(p,2),v=(h[0],h[1],Object(f.a)(["reco"])),b=Object(l.a)(v,3),E=(b[0],b[1],b[2],r.a.useState()),g=Object(l.a)(E,2),w=g[0],j=g[1];return r.a.useEffect((function(){fetch("https://untitled-app-001.herokuapp.com/movie/"+a._id).then((function(e){return e.json()})).then((function(e){j(e)})),console.log("https://untitled-app-001.herokuapp.com/movie/"+a._id)})),w?r.a.createElement(x.a,{bg:d?"gray.100":"gray.700",padding:"5px 5px 5px 5px",onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},transition:"ease-in-out height 0.5s",direction:"row",justify:"space-between",height:i?"300px":"80px"},r.a.createElement(x.a,{direction:"row"},r.a.createElement(F.a,{height:"100%",src:null===w||void 0===w?void 0:w.poster_path,alt:"Dan Abramov",border:"1px solid white"}),r.a.createElement(x.a,{direction:"column",justify:"flex-start",height:"100%",ml:"15px"},r.a.createElement(S.a,{size:"lg",mb:"5px"},w.title),r.a.createElement(x.a,{direction:"row",mb:"10px"},null===w||void 0===w||null===(t=w.genre_ids)||void 0===t?void 0:t.map((function(e){return r.a.createElement(J,{mr:"5px",children:I(e)})}))),i&&r.a.createElement(x.a,{direction:"column",justify:"flex-start"},r.a.createElement(D.a,null,"Release date: ",null===w||void 0===w?void 0:w.release_date),r.a.createElement(D.a,null,null===w||void 0===w?void 0:w.overview)))),r.a.createElement(x.a,{direction:"column",height:"100%",justify:"flex-start",mr:"15px",mt:"20px"},r.a.createElement(x.a,{direction:"row"},new Array(10).fill(0).map((function(e,t){var n=t<a.userRating?"yellow.300":d?"gray.300":"white";return r.a.createElement(T.a,{name:"star",color:n,mr:"3px",size:"30px"})}))))):r.a.createElement(L.a,{width:"100%",height:"100px"})}var B=a(141);function H(){var e,t=Object(f.a)(["reco"]),a=Object(l.a)(t,3),n=a[0];a[1],a[2];console.log(null===n||void 0===n||null===(e=n.auth)||void 0===e?void 0:e.username);var o=Object(W.a)("swipe",(function(){var e;return fetch("https://untitled-app-001.herokuapp.com/recommend/"+(null===n||void 0===n||null===(e=n.auth)||void 0===e?void 0:e.username)).then((function(e){return e.json()})).then((function(e){return fetch("https://untitled-app-001.herokuapp.com/movie/"+e._id).then((function(e){return e.json()}))}))})),i=o.isLoading,c=(o.error,o.data),m=r.a.useState(5),s=Object(l.a)(m,2),d=s[0],p=s[1],h=Object(u.b)(),v=h.colorMode,b=(h.toggleColorMode,"light"==v);console.log(c);var E=r.a.useMemo((function(){var e;return r.a.createElement(R.a,{position:"absolute",top:5},r.a.createElement(x.a,{direction:"column",justify:"flex-start",align:"center",w:"200px"},i?r.a.createElement(L.a,{width:"100%",height:"300px"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{size:"lg",mb:"10px",width:"300px",whiteSpace:"normal",textAlign:"center"},c.title),r.a.createElement(F.a,{width:"250px",src:null===c||void 0===c?void 0:c.poster_path,alt:"Dan Abramov",border:"2px solid white",borderColor:b?"black":"white"}),r.a.createElement(x.a,{direction:"row",justify:"flex-start",align:"flex-start",mt:"10px",wrap:"wrap",maxWidth:"100%",position:"relative"},null===(e=c.genre_ids)||void 0===e?void 0:e.map((function(e,t){return r.a.createElement(J,{mr:t!==c.genre_ids.length-1?"5px":"0px",children:I(e)})}))))))}),[c]);return r.a.createElement(x.a,{width:"100%",direction:"column",justify:"center",align:"center",mt:"0px",pr:"15%",pl:"15%"},r.a.createElement(x.a,{h:"10px",width:"100%",direction:"row",justify:"center"},new Array(10).fill(0).map((function(e,t){var a=t<d?"yellow.300":b?"gray.300":"white";return r.a.createElement(T.a,{name:"star",color:a,mr:"3px",size:"30px"})}))),r.a.createElement(B.d,{max:10,min:0,defaultValue:d,onChange:function(e){return p(e)},mt:"35px"},r.a.createElement(B.c,null),r.a.createElement(B.a,null),r.a.createElement(B.b,null,r.a.createElement(R.a,{color:"tomato"}),E)),r.a.createElement(x.a,{mt:"500px",direction:"row",w:"100%",justify:"space-evenly"},r.a.createElement(j.a,{width:"30%",variant:"solid",variantColor:"green",children:"Vote",onClick:function(){var e;c&&(console.log({data:c}),fetch("https://untitled-app-001.herokuapp.com/vote/"+(null===n||void 0===n||null===(e=n.auth)||void 0===e?void 0:e.username),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({_id:c._id,userRating:d})}).then((function(){return window.location.reload()})))}}),r.a.createElement(j.a,{width:"30%",variant:"solid",variantColor:"blue",children:"Skip",onClick:function(){return window.location.reload()}})))}var N=a(89),$=a(41),q=a(133),G=a(88),K=a(134),Q=a(135),X=a(65),Y=a(59),Z=function(e){var t=Object.assign({},e);return r.a.createElement(x.a,Object.assign({},t,{width:"100%",direction:"column",justify:"center",alignItems:"center",mt:"50px"}))};function ee(e){Object.assign({},e);var t=Object(f.a)(["reco"]),a=Object(l.a)(t,3),n=(a[0],a[1]),o=(a[2],Object(v.g)());return r.a.createElement(Z,null,r.a.createElement(S.a,{mb:3},"Login"),r.a.createElement(te,{onSubmit:function(e,t){n("auth",{username:e.username,password:e.password}),o.push("/"),t.setSubmitting(!1),window.location.reload()}}))}function te(e){var t=e.onSubmit;Object(N.a)(e,["onSubmit"]);function a(e){return!1}return r.a.createElement(Y.b,{initialValues:{},onSubmit:t},(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(Y.a,{name:"username",validate:a},(function(e){var t=e.field,a=e.form;return r.a.createElement($.a,{isInvalid:a.errors.name&&a.touched.name,mb:3},r.a.createElement(q.a,{htmlFor:"username"},"Username"),r.a.createElement(G.a,Object.assign({},t,{id:"username",placeholder:"Username"})),r.a.createElement(K.a,null,a.errors.name))})),r.a.createElement(Y.a,{name:"password",validate:a},(function(e){var t=e.field,a=e.form;return r.a.createElement($.a,{isInvalid:a.errors.name&&a.touched.name},r.a.createElement(q.a,{htmlFor:"password"},"Password"),r.a.createElement(ae,Object.assign({},t,{id:"password",placeholder:"password"})),r.a.createElement(K.a,null,a.errors.name))})),r.a.createElement(j.a,{mt:4,variantColor:"green",isLoading:e.isSubmitting,type:"submit",width:"100%"},"Submit"))}))}function ae(e){var t=Object.assign({},e),a=r.a.useState(!1),n=Object(l.a)(a,2),o=n[0],i=n[1];return r.a.createElement(Q.a,{size:"md"},r.a.createElement(G.a,Object.assign({},t,{pr:"4.5rem",type:o?"text":"password",placeholder:"Enter password"})),r.a.createElement(X.b,{width:"3rem"},r.a.createElement(y.a,{h:"1.75rem",size:"sm",onClick:function(){return i(!o)},"aria-label":"password_input",icon:o?"view":"view-off"})))}function ne(){var e,t=Object(f.a)(["reco"]),a=Object(l.a)(t,3),n=a[0],o=(a[1],a[2],Object(W.a)("ratedata",Object(z.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://untitled-app-001.herokuapp.com/user/"+(null===n||void 0===n||null===(t=n.auth)||void 0===t?void 0:t.username)).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)}))))),i=o.isLoading,c=(o.error,o.data),u=r.a.useState(5),m=Object(l.a)(u,2),s=m[0],d=m[1];console.log(c);var p=r.a.useMemo((function(){if(i)return r.a.createElement(L.a,{width:"100%",height:"100px"});for(var e=[],t=0;t<(null===c||void 0===c||null===(a=c.unratedMovies)||void 0===a?void 0:a.length);t++){var a;if(t>=s)break;e.push(r.a.createElement(re,{movie_data:null===c||void 0===c?void 0:c.unratedMovies[t],index:t}))}return r.a.createElement(C.a,{columns:1,spacing:1},e)}),[c,s]);return r.a.createElement(R.a,{mr:"15px",ml:"15px"},p,s<(null===c||void 0===c||null===(e=c.unratedMovies)||void 0===e?void 0:e.length)&&r.a.createElement(j.a,{borderRadius:"0px",width:"100%",mt:1,onClick:function(){return d(s+5)}},"Load more"))}function re(e){var t,a=e.movie_data,n=(e.index,r.a.useState(-1)),o=Object(l.a)(n,2),i=o[0],c=o[1],m=Object(u.b)(),s=m.colorMode,d=(m.toggleColorMode,"light"==s),p=r.a.useState(),h=Object(l.a)(p,2),v=(h[0],h[1],Object(f.a)(["reco"])),b=Object(l.a)(v,3),E=b[0],g=(b[1],b[2],r.a.useState(!1)),w=Object(l.a)(g,2),j=w[0],O=w[1],k=r.a.useState(),C=Object(l.a)(k,2),M=C[0],_=C[1];r.a.useEffect((function(){fetch("https://untitled-app-001.herokuapp.com/movie/"+a._id).then((function(e){return e.json()})).then((function(e){_(e)})),console.log("https://untitled-app-001.herokuapp.com/movie/"+a._id)}));return j?r.a.createElement(r.a.Fragment,null):M?r.a.createElement(x.a,{bg:d?"gray.100":"gray.700",padding:"5px 5px 5px 5px",transition:"ease-in-out height 0.5s",direction:"row",justify:"space-between",height:"80px"},r.a.createElement(x.a,{direction:"row"},r.a.createElement(F.a,{height:"100%",src:null===M||void 0===M?void 0:M.poster_path,alt:"Dan Abramov",border:"1px solid white"}),r.a.createElement(x.a,{direction:"column",justify:"flex-start",height:"100%",ml:"15px"},r.a.createElement(S.a,{size:"lg",mb:"5px"},M.title),r.a.createElement(x.a,{direction:"row",mb:"10px"},null===M||void 0===M||null===(t=M.genre_ids)||void 0===t?void 0:t.map((function(e){return r.a.createElement(J,{mr:"5px",children:I(e)})}))))),r.a.createElement(x.a,{direction:"column",height:"100%",justify:"flex-start",mr:"15px",mt:"20px"},r.a.createElement(x.a,{direction:"row"},new Array(10).fill(0).map((function(e,t){var a=t<=i?"yellow.300":d?"gray.300":"white";return r.a.createElement(y.a,{"aria-label":"",variant:"ghost",color:a,mr:"3px",icon:"star",onClick:function(){return function(e){var t;M&&(console.log({data:M}),fetch("https://untitled-app-001.herokuapp.com/vote/"+(null===E||void 0===E||null===(t=E.auth)||void 0===t?void 0:t.username),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({_id:M._id,userRating:e})}).then((function(){return O(!0)})))}(t+1)},onMouseEnter:function(){return c(t)},onMouseLeave:function(){return c(-1)}})}))))):r.a.createElement(L.a,{width:"100%",height:"100px"})}function oe(){var e=r.a.useState(!0),t=Object(l.a)(e,2),a=t[0],n=t[1],o=Object(f.a)(["reco"]),i=Object(l.a)(o,3),c=i[0];i[1],i[2];return r.a.useEffect((function(){c&&!(null===c||void 0===c?void 0:c.auth)&&n(!1)}),[]),r.a.createElement(h.a,null,a?r.a.createElement(k,null):r.a.createElement(v.a,{to:"/login"}),r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/"},r.a.createElement(M,null)),r.a.createElement(v.b,{exact:!0,path:"/list"},r.a.createElement(U,null)),r.a.createElement(v.b,{path:"/login"},r.a.createElement(ee,null)),r.a.createElement(v.b,{path:"/rate"},r.a.createElement(ne,null)),r.a.createElement(v.b,{exact:!0,path:"/swipe"},r.a.createElement(H,null))))}var ie=function(){return r.a.createElement(c.a,{theme:p},r.a.createElement(u.a,null,r.a.createElement(m.a,null),r.a.createElement(oe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,a){e.exports=a(123)}},[[90,1,2]]]);
//# sourceMappingURL=main.0ea34060.chunk.js.map